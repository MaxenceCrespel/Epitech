{"ast":null,"code":"var _jsxFileName = \"/home/maxencecrespel/Tek3/AREA/B-DEV-500-LIL-5-1-area-maxence.crespel/client_web/src/pages/Settings.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../AuthContext';\nimport '../styles/Settings.css';\nimport InputSettings from '../components/InputSettings';\nimport GetUserData from '../request/GetUserData';\nimport UpdateUserData from '../request/UpdateUserData';\nimport logo from '../assets/logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Settings = () => {\n  _s();\n  const history = useHistory();\n  const {\n    token\n  } = useAuth();\n  const [userData, setUserData] = useState(null);\n  const [updateSuccess, setUpdateSuccess] = useState(false);\n  const getStoredTheme = () => {\n    const savedBackgroundColor = localStorage.getItem('backgroundColor');\n    const savedTextColor = localStorage.getItem('textColor');\n    return {\n      backgroundColor: savedBackgroundColor || 'white',\n      textColor: savedTextColor || 'black'\n    };\n  };\n  const [theme, setTheme] = useState(getStoredTheme);\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await GetUserData(token);\n        const userData = response.data;\n        setUserData(userData);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, [token]);\n  const ChangeSettings = async e => {\n    e.preventDefault();\n    try {\n      await UpdateUserData(userData, token);\n      setUpdateSuccess(true);\n    } catch (error) {\n      console.error('Error updating user data:', error);\n    }\n  };\n  const updateUserData = (field, value) => {\n    setUserData(prevUserData => ({\n      ...prevUserData,\n      [field]: value\n    }));\n  };\n  const goHome = () => {\n    history.push('/Dashboard');\n  };\n  document.body.style.backgroundColor = theme.backgroundColor;\n  document.body.style.color = theme.textColor;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"settings-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-bar\",\n      style: {\n        borderBottom: \"3px solid\",\n        borderColor: textColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"Your Logo\",\n        class: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"settings-title\",\n        style: {\n          color: theme.textColor,\n          marginRight: \"50%\"\n        },\n        children: \"Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"btn btn-dashboard\",\n        onClick: goHome,\n        style: {\n          backgroundColor: theme.backgroundColor,\n          borderColor: theme.textColor,\n          color: theme.textColor\n        },\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"window-settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), userData ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: ChangeSettings,\n      children: [/*#__PURE__*/_jsxDEV(InputSettings, {\n        defaultText: userData.firstname,\n        header: \"Name:\",\n        type: \"text\",\n        updateField: value => updateUserData('firstname', value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n        defaultText: userData.name,\n        header: \"Firstname:\",\n        type: \"text\",\n        updateField: value => updateUserData('name', value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n        defaultText: userData.username,\n        header: \"Username:\",\n        type: \"text\",\n        updateField: value => updateUserData('username', value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n        defaultText: userData.email,\n        header: \"email:\",\n        type: \"text\",\n        updateField: value => updateUserData('email', value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"Submit-button\",\n        children: \"Update user data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), updateSuccess && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'green'\n        },\n        children: \"Data updated successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading user data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(Settings, \"7POFPNR1Gvl84Esn7Zde4V9xZmo=\", false, function () {\n  return [useHistory, useAuth];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","useAuth","InputSettings","GetUserData","UpdateUserData","logo","jsxDEV","_jsxDEV","Settings","_s","history","token","userData","setUserData","updateSuccess","setUpdateSuccess","getStoredTheme","savedBackgroundColor","localStorage","getItem","savedTextColor","backgroundColor","textColor","theme","setTheme","fetchUserData","response","data","error","console","ChangeSettings","e","preventDefault","updateUserData","field","value","prevUserData","goHome","push","document","body","style","color","className","children","borderBottom","borderColor","src","alt","class","fileName","_jsxFileName","lineNumber","columnNumber","marginRight","onClick","onSubmit","defaultText","firstname","header","type","updateField","name","username","email","_c","$RefreshReg$"],"sources":["/home/maxencecrespel/Tek3/AREA/B-DEV-500-LIL-5-1-area-maxence.crespel/client_web/src/pages/Settings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../AuthContext';\nimport '../styles/Settings.css';\nimport InputSettings from '../components/InputSettings';\nimport GetUserData from '../request/GetUserData';\nimport UpdateUserData from '../request/UpdateUserData';\nimport logo from '../assets/logo.png';\n\nconst Settings = () => {\n  const history = useHistory();\n  const { token } = useAuth();\n  const [userData, setUserData] = useState(null);\n  const [updateSuccess, setUpdateSuccess] = useState(false);\n\n  const getStoredTheme = () => {\n    const savedBackgroundColor = localStorage.getItem('backgroundColor');\n    const savedTextColor = localStorage.getItem('textColor');\n    return {\n      backgroundColor: savedBackgroundColor || 'white',\n      textColor: savedTextColor || 'black',\n    };\n  };\n\n  const [theme, setTheme] = useState(getStoredTheme);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await GetUserData(token);\n        const userData = response.data;\n        setUserData(userData);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, [token]);\n\n  const ChangeSettings = async (e) => {\n    e.preventDefault();\n    try {\n      await UpdateUserData(userData, token);\n      setUpdateSuccess(true);\n    } catch (error) {\n      console.error('Error updating user data:', error);\n    }\n  };\n\n  const updateUserData = (field, value) => {\n    setUserData((prevUserData) => ({\n      ...prevUserData,\n      [field]: value,\n    }));\n  };\n\n  const goHome = () => {\n    history.push('/Dashboard');\n  };\n\n  document.body.style.backgroundColor = theme.backgroundColor;\n  document.body.style.color = theme.textColor;\n\n  return (\n    <div className=\"settings-container\">\n      <div className=\"top-bar\" style={{ borderBottom: \"3px solid\", borderColor: textColor }}>\n        <img src={logo} alt=\"Your Logo\" class=\"logo\" />\n        <h1 class=\"settings-title\" style={{ color: theme.textColor, marginRight: \"50%\" }}>Settings</h1>\n        <button class=\"btn btn-dashboard\" onClick={goHome} style={{ backgroundColor: theme.backgroundColor, borderColor: theme.textColor, color: theme.textColor }}>\n          Dashboard\n        </button>\n      </div>\n      <div className=\"window-settings\">\n      </div>\n      {userData ? (\n        <form onSubmit={ChangeSettings}>\n          <InputSettings defaultText={userData.firstname} header={\"Name:\"} type={\"text\"} updateField={(value) => updateUserData('firstname', value)} />\n          <InputSettings defaultText={userData.name} header={\"Firstname:\"} type={\"text\"} updateField={(value) => updateUserData('name', value)} />\n          <InputSettings defaultText={userData.username} header={\"Username:\"} type={\"text\"} updateField={(value) => updateUserData('username', value)} />\n          <InputSettings defaultText={userData.email} header={\"email:\"} type={\"text\"} updateField={(value) => updateUserData('email', value)} />\n          <button type=\"submit\" className='Submit-button'>Update user data</button>\n          {updateSuccess && <p style={{ color: 'green' }}>Data updated successfully!</p>}\n        </form>\n      ) : (\n        <p>Loading user data...</p>\n      )}\n    </div>\n  );\n};\n\nexport default Settings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}