{"ast":null,"code":"var _jsxFileName = \"/home/maxencecrespel/Tek3/AREA/B-DEV-500-LIL-5-1-area-maxence.crespel/client_web/src/pages/Settings.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../AuthContext';\nimport '../styles/Settings.css';\nimport InputSettings from '../components/InputSettings';\nimport GetUserData from '../request/GetUserData';\nimport UpdateUserData from '../request/UpdateUserData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Settings = () => {\n  _s();\n  const history = useHistory();\n  const {\n    token\n  } = useAuth();\n  const [userData, setUserData] = useState(null);\n  const getStoredTheme = () => {\n    const savedBackgroundColor = localStorage.getItem('backgroundColor');\n    const savedTextColor = localStorage.getItem('textColor');\n    return {\n      backgroundColor: savedBackgroundColor || 'white',\n      textColor: savedTextColor || 'black'\n    };\n  };\n  const [theme, setTheme] = useState(getStoredTheme);\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await GetUserData(token);\n        const userData = response.data;\n        setUserData(userData);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, [token]);\n  const ChangeSettings = async e => {\n    e.preventDefault();\n    try {\n      await UpdateUserData(userData, token);\n    } catch (error) {\n      console.error('Error updating user data:', error);\n    }\n  };\n  const updateUserData = (field, value) => {\n    setUserData(prevUserData => ({\n      ...prevUserData,\n      [field]: value\n    }));\n  };\n  const goHome = () => {\n    history.push('/Dashboard');\n  };\n  document.body.style.backgroundColor = theme.backgroundColor;\n  document.body.style.color = theme.textColor;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"settings-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-side\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Param\\xE8tres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goHome,\n          className: \"btn btn-lg btn-violet-fonce text-white\",\n          style: {\n            color: text\n          },\n          children: \"Accueil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"color-rectangle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-side\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '25%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), userData ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: ChangeSettings,\n        children: [/*#__PURE__*/_jsxDEV(InputSettings, {\n          defaultText: userData.firstname,\n          header: \"Nom:\",\n          type: \"text\",\n          updateField: value => updateUserData('firstname', value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n          defaultText: userData.name,\n          header: \"Prénom:\",\n          type: \"text\",\n          updateField: value => updateUserData('name', value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n          defaultText: userData.username,\n          header: \"Username:\",\n          type: \"text\",\n          updateField: value => updateUserData('username', value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n          defaultText: userData.email,\n          header: \"email:\",\n          type: \"text\",\n          updateField: value => updateUserData('email', value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"Submit-button\",\n          children: \"Update user data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading user data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(Settings, \"7PCF7xQzj+38VKzzg+nGGE5PA7A=\", false, function () {\n  return [useHistory, useAuth];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","useAuth","InputSettings","GetUserData","UpdateUserData","jsxDEV","_jsxDEV","Settings","_s","history","token","userData","setUserData","getStoredTheme","savedBackgroundColor","localStorage","getItem","savedTextColor","backgroundColor","textColor","theme","setTheme","fetchUserData","response","data","error","console","ChangeSettings","e","preventDefault","updateUserData","field","value","prevUserData","goHome","push","document","body","style","color","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","text","height","onSubmit","defaultText","firstname","header","type","updateField","name","username","email","_c","$RefreshReg$"],"sources":["/home/maxencecrespel/Tek3/AREA/B-DEV-500-LIL-5-1-area-maxence.crespel/client_web/src/pages/Settings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../AuthContext';\nimport '../styles/Settings.css';\nimport InputSettings from '../components/InputSettings';\nimport GetUserData from '../request/GetUserData';\nimport UpdateUserData from '../request/UpdateUserData';\n\nconst Settings = () => {\n  const history = useHistory();\n  const { token } = useAuth();\n  const [userData, setUserData] = useState(null);\n\n  const getStoredTheme = () => {\n    const savedBackgroundColor = localStorage.getItem('backgroundColor');\n    const savedTextColor = localStorage.getItem('textColor');\n    return {\n      backgroundColor: savedBackgroundColor || 'white',\n      textColor: savedTextColor || 'black',\n    };\n  };\n\n  const [theme, setTheme] = useState(getStoredTheme);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await GetUserData(token);\n        const userData = response.data;\n        setUserData(userData);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, [token]);\n\n  const ChangeSettings = async (e) => {\n    e.preventDefault();\n    try {\n      await UpdateUserData(userData, token);\n    } catch (error) {\n      console.error('Error updating user data:', error);\n    }\n  };\n\n  const updateUserData = (field, value) => {\n    setUserData((prevUserData) => ({\n      ...prevUserData,\n      [field]: value,\n    }));\n  };\n\n  const goHome = () => {\n    history.push('/Dashboard');\n  };\n\n  document.body.style.backgroundColor = theme.backgroundColor;\n  document.body.style.color = theme.textColor;\n\n  return (\n    <div className=\"settings-container\">\n      <div className=\"left-side\">\n        <div className=\"welcome-text\">\n          <h1>Paramètres</h1>\n          {/* Supprimez les lignes ci-dessous pour enlever les traits noirs et blancs au-dessus du bouton */}\n          {/* <div className=\"line\"></div> */}\n          {/* <div className=\"line\"></div> */}\n          {/* Utilisez les classes Bootstrap pour styliser le bouton \"Accueil\" */}\n          <button onClick={goHome} className=\"btn btn-lg btn-violet-fonce text-white\" style={{color: text}}>Accueil</button>\n        </div>\n        <div className=\"color-rectangle\"></div>\n      </div>\n      <div className=\"right-side\">\n        <div style={{\n          height: '25%',\n        }}>\n        </div>\n        {userData ? (\n          <form onSubmit={ChangeSettings}>\n            <InputSettings defaultText={userData.firstname} header={\"Nom:\"} type={\"text\"} updateField={(value) => updateUserData('firstname', value)} />\n            <InputSettings defaultText={userData.name} header={\"Prénom:\"} type={\"text\"} updateField={(value) => updateUserData('name', value)} />\n            <InputSettings defaultText={userData.username} header={\"Username:\"} type={\"text\"} updateField={(value) => updateUserData('username', value)} />\n            <InputSettings defaultText={userData.email} header={\"email:\"} type={\"text\"} updateField={(value) => updateUserData('email', value)} />\n            <button type=\"submit\" className='Submit-button'>Update user data</button>\n          </form>\n        ) : (\n          <p>Loading user data...</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}